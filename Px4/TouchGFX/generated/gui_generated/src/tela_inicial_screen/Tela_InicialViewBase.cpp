/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/tela_inicial_screen/Tela_InicialViewBase.hpp>
#include <touchgfx/Color.hpp>
#include "BitmapDatabase.hpp"

Tela_InicialViewBase::Tela_InicialViewBase() :
    buttonCallback(this, &Tela_InicialViewBase::buttonCallbackHandler),
    solicitar_senha1CancelarCallback(this, &Tela_InicialViewBase::solicitar_senha1CancelarCallbackHandler),
    solicitar_senha1DigitarCallback(this, &Tela_InicialViewBase::solicitar_senha1DigitarCallbackHandler),
    numKeyboardContainerPwd1CredentialSuccessCallback(this, &Tela_InicialViewBase::numKeyboardContainerPwd1CredentialSuccessCallbackHandler),
    numKeyboardContainerPwd1CredentialFailedCallback(this, &Tela_InicialViewBase::numKeyboardContainerPwd1CredentialFailedCallbackHandler),
    numKeyboardContainerPwd1CancelTriggerCallback(this, &Tela_InicialViewBase::numKeyboardContainerPwd1CancelTriggerCallbackHandler)
{

    __background.setPosition(0, 0, 480, 272);
    __background.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));

    boxFundo.setPosition(0, 0, 480, 272);
    boxFundo.setColor(touchgfx::Color::getColorFromRGB(235, 237, 239));

    box1.setPosition(6, 199, 468, 2);
    box1.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));

    imageLogo.setXY(28, 13);
    imageLogo.setBitmap(touchgfx::Bitmap(BITMAP_LOGOCOEL_ID));

    buttonCongelar.setXY(75, 57);
    buttonCongelar.setBitmaps(touchgfx::Bitmap(BITMAP_CONGELAR_ID), touchgfx::Bitmap(BITMAP_CONGELAR_ID));
    buttonCongelar.setAction(buttonCallback);

    buttonConcervar.setXY(75, 127);
    buttonConcervar.setBitmaps(touchgfx::Bitmap(BITMAP_CONSERVAR_ID), touchgfx::Bitmap(BITMAP_CONSERVAR_ID));
    buttonConcervar.setAction(buttonCallback);

    buttonReceitas.setXY(75, 212);
    buttonReceitas.setBitmaps(touchgfx::Bitmap(BITMAP_RECEITAS_ID), touchgfx::Bitmap(BITMAP_RECEITAS_ID));
    buttonReceitas.setAction(buttonCallback);

    buttonResfriar.setXY(264, 57);
    buttonResfriar.setBitmaps(touchgfx::Bitmap(BITMAP_RESFRIAR_ID), touchgfx::Bitmap(BITMAP_RESFRIAR_ID));
    buttonResfriar.setAction(buttonCallback);

    buttonDegelo.setXY(264, 127);
    buttonDegelo.setBitmaps(touchgfx::Bitmap(BITMAP_DEGELO_ID), touchgfx::Bitmap(BITMAP_DEGELO_ID));
    buttonDegelo.setAction(buttonCallback);

    buttonHigiene.setXY(266, 212);
    buttonHigiene.setBitmaps(touchgfx::Bitmap(BITMAP_HIGIENE_ID), touchgfx::Bitmap(BITMAP_HIGIENE_ID));
    buttonHigiene.setAction(buttonCallback);

    buttonSolicitacaoSenah.setXY(418, 15);
    buttonSolicitacaoSenah.setBitmaps(touchgfx::Bitmap(BITMAP_ENGREN_ID), touchgfx::Bitmap(BITMAP_ENGREN_ID));
    buttonSolicitacaoSenah.setAction(buttonCallback);

    solicitar_senha1.setXY(0, 0);
    solicitar_senha1.setVisible(false);
    solicitar_senha1.setCancelarCallback(solicitar_senha1CancelarCallback);
    solicitar_senha1.setDigitarCallback(solicitar_senha1DigitarCallback);

    numKeyboardContainerPwd1.setXY(0, 0);
    numKeyboardContainerPwd1.setVisible(false);
    numKeyboardContainerPwd1.setCredentialSuccessCallback(numKeyboardContainerPwd1CredentialSuccessCallback);
    numKeyboardContainerPwd1.setCredentialFailedCallback(numKeyboardContainerPwd1CredentialFailedCallback);
    numKeyboardContainerPwd1.setCancelTriggerCallback(numKeyboardContainerPwd1CancelTriggerCallback);

    background1.setXY(0, 0);

    add(__background);
    add(boxFundo);
    add(box1);
    add(imageLogo);
    add(buttonCongelar);
    add(buttonConcervar);
    add(buttonReceitas);
    add(buttonResfriar);
    add(buttonDegelo);
    add(buttonHigiene);
    add(buttonSolicitacaoSenah);
    add(solicitar_senha1);
    add(numKeyboardContainerPwd1);
    add(background1);
}

void Tela_InicialViewBase::setupScreen()
{
    solicitar_senha1.initialize();
    numKeyboardContainerPwd1.initialize();
    background1.initialize();
    //ScreenTransitionBegins
    //When screen transition begins execute C++ code
    //Execute C++ code
    WriteModbus485(10322, 1);
    WriteModbus485(10323, 1);
    
    WriteModbus485(10242, 1);
    WriteModbus485(645, 1);
    WriteModbus485(641, 1);

}

//Called when the screen transition ends
void Tela_InicialViewBase::afterTransition()
{
    //ScreenTransitionEnds
    //When screen transition ends execute C++ code
    //Execute C++ code
    SoundBuzzerOn(25);

    //LaunchPasswordKeyboard
    //When screen transition ends call LaunchNumericalKeyboard on numKeyboardContainerPwd1
    //Call LaunchNumericalKeyboard
    numKeyboardContainerPwd1.LaunchNumericalKeyboard();
}

void Tela_InicialViewBase::solicitar_senha1CancelarCallbackHandler()
{
    //CancelarAcesso
    //When solicitar_senha1 cancelar execute C++ code
    //Execute C++ code
    ContainerVisibility(&solicitar_senha1, false);
    LogoutUser();
    SoundBuzzerOn(25);
}

void Tela_InicialViewBase::solicitar_senha1DigitarCallbackHandler()
{
    //DigitarSenha
    //When solicitar_senha1 digitar execute C++ code
    //Execute C++ code
    ContainerVisibility(&numKeyboardContainerPwd1, !UserIsLogged());
    SoundBuzzerOn(25);
}

void Tela_InicialViewBase::numKeyboardContainerPwd1CredentialSuccessCallbackHandler()
{
    //CredentialSuccess
    //When numKeyboardContainerPwd1 CredentialSuccess change screen to Configuracao
    //Go to Configuracao with no screen transition
    application().gotoConfiguracaoScreenNoTransition();
}

void Tela_InicialViewBase::numKeyboardContainerPwd1CredentialFailedCallbackHandler()
{
    //CredentialFailed
    //When numKeyboardContainerPwd1 CredentialFailed call ViewErrorMsg on numKeyboardContainerPwd1
    //Call ViewErrorMsg
    numKeyboardContainerPwd1.ViewErrorMsg();
}

void Tela_InicialViewBase::numKeyboardContainerPwd1CancelTriggerCallbackHandler()
{
    //HideNumKeyboardPwd
    //When numKeyboardContainerPwd1 CancelTrigger execute C++ code
    //Execute C++ code
    ContainerVisibility(&numKeyboardContainerPwd1, false);
    SoundBuzzerOn(25);
}

void Tela_InicialViewBase::tearDownScreen()
{
    //TearDownScreen
    //When tearDownScreen is called execute C++ code
    //Execute C++ code
    LogoutUser();
    
    Clear();
    ContainerClear(&numKeyboardContainerPwd1);
}

void Tela_InicialViewBase::launchPasswordKeyboard()
{

}

void Tela_InicialViewBase::buttonCallbackHandler(const touchgfx::AbstractButton& src)
{
    if (&src == &buttonCongelar)
    {
        //Congelar
        //When buttonCongelar clicked change screen to Congelar
        //Go to Congelar with no screen transition
        application().gotoCongelarScreenNoTransition();
    }
    else if (&src == &buttonConcervar)
    {
        //Conservar
        //When buttonConcervar clicked change screen to Conservacao
        //Go to Conservacao with no screen transition
        application().gotoConservacaoScreenNoTransition();
    }
    else if (&src == &buttonReceitas)
    {
        //Receitas
        //When buttonReceitas clicked change screen to Receitas_1
        //Go to Receitas_1 with no screen transition
        application().gotoReceitas_1ScreenNoTransition();
    }
    else if (&src == &buttonResfriar)
    {
        //Resfriar
        //When buttonResfriar clicked change screen to Resfriar
        //Go to Resfriar with no screen transition
        application().gotoResfriarScreenNoTransition();
    }
    else if (&src == &buttonDegelo)
    {
        //Degelo
        //When buttonDegelo clicked change screen to Degelo_Confirmar
        //Go to Degelo_Confirmar with no screen transition
        application().gotoDegelo_ConfirmarScreenNoTransition();
    }
    else if (&src == &buttonHigiene)
    {
        //Higienizacao
        //When buttonHigiene clicked change screen to HIGIENE_CONFIRMAR
        //Go to HIGIENE_CONFIRMAR with no screen transition
        application().gotoHIGIENE_CONFIRMARScreenNoTransition();
    }
    else if (&src == &buttonSolicitacaoSenah)
    {
        //SolicitacaoSenha
        //When buttonSolicitacaoSenah clicked execute C++ code
        //Execute C++ code
        ContainerVisibility(&numKeyboardContainerPwd1, !UserIsLogged());
        SoundBuzzerOn(25);
    }
}
